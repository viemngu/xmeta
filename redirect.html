<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Redirecting...</title>
</head>
<body>
    <p>Redirecting to your destination...</p>
    <script>
        function rot47Decode(str) {
            let decoded = '';
            for (let i = 0; i < str.length; i++) {
                let charCode = str.charCodeAt(i);
                if (charCode >= 33 && charCode <= 126) {
                    decoded += String.fromCharCode((charCode - 33 - 47 + 94) % 94 + 33);
                } else {
                    decoded += str[i];
                }
            }
            return decoded;
        }

        // Lấy tham số 'url' từ query string
        const urlParams = new URLSearchParams(window.location.search);
        const encodedUrl = urlParams.get('url') || ''; // Chuỗi mã hóa từ URL

        if (encodedUrl) {
            const decodedUrl = rot47Decode(encodedUrl); // Giải mã ROT47
            window.location.href = decodedUrl; // Chuyển hướng
        } else {
            document.body.innerHTML = "<p>Error: No URL provided.</p>";
        }
    </script>
</body>
</html>
